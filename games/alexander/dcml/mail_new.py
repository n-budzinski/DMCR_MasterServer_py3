import sqlalchemy

def mail_new(options: dict, database: sqlalchemy.Engine) -> str:
    ##exec(GW|open&mail_list.dcml\00&sent=true\00|LW_lockall)  if sent
    not_found = False

    return "".join((
    f"#block(l_games_btn.cml,l_g):<!goback!>\\00",
    f"#end(l_g) ",
    f"#ebox[%TB](x:0,y:0,w:100%,h:100%) ",
    f"#pix[%PXT1](%TB[x:0,y:38,w:100%,h:100%],{{}},Internet/pix/i_pri0,12,12,12,12) ",
    f"#pix[%PXT2](%TB[x:0,y:263,w:100%,h:100%],{{}},Internet/pix/i_pri0,13,13,13,13) ",
    f"#pan[%P1](%TB[x:42,y:0-22,w:0,h:80],10) ",
    f"#font(RG18,RG18,RG18) ",
    f"#txt[%PL](%TB[x:737,y:0,w:150,h:20],{{}},\"Players\")",
    f"#font(BG18,BG18,BG18) ",
    f"#ctxt[%TTTEXT](%TB[x:0-62,y:0-32,w:1024,h:20],{{}},\"PLAYER LIST\") ",
    f"#font(R2C12,R2C12,R2C12) ",
    f"#txt[%TMTEXT](%TB[x:0,y:514,w:100,h:20],{{}},\"Message:\") ",
    f"#def_gp_btn(Internet/pix/i_pri0,53,53,0,1)      ",
    f"#font(RC12,R2C12,RC12) ",
    f"#gpbtn[%BT1](%TB[x:74,y:23,w:-22,h:-18],{{GW|open&news.dcml\\00|LW_lockall}},\"News & Events\")",
    f"#hint(%BT1,\"News, events, forum and punishment list\")      ",
    f"#font(RC12,RC12,RC12) ",
    f"#def_gp_btn(Internet/pix/i_pri0,51,51,0,1) ",
    f"#gpbtn[%BT2](%TB[x:196,y:22,w:-22,h:-18],{{GW|open&users_list.dcml\\00&language=\\00|LW_lockall}},\"Player List\")",
    f"#hint(%BT2,\"Player list, personal mail and clan information\")",
    f"#def_gp_btn(Internet/pix/i_pri0,52,52,0,1)      ",
    f"#font(RC12,R2C12,RC12) ",
    f"#gpbtn[%BT4](%TB[x:318,y:23,w:-22,h:-18],{{GW|open&games.dcml\\00|LW_lockall}},\"Custom Games\")",
    f"#hint(%BT4,\"Play custom games\")",
    f"#def_gp_btn(Internet/pix/i_pri0,52,52,0,1)      ",
    f"#font(RC12,R2C12,RC12) ",
    f"#gpbtn[%BT5](%TB[x:440,y:23,w:-22,h:-18],{{GW|open&scored_games.dcml\\00&player_id=0\\00|LW_lockall}},\"Scored Games\")",
    f"#hint(%BT5,\"Played games and their scores\")     ",
    f"#ebox[%B_VOTE](x:5,y:396,w:140,h:103) ",
    f"<VOTING> ",
    f"#exec(GW|open&voting.dcml\\00&question=46\\00) ",
    f"<VOTING> ",
    f"<MAILBUTTONS> ",
    f"#ebox[%MB](x:0,y:0,w:100%,h:100%) ",
    f"#font(RC14,GC14,RC14) ",
    f"#ctxt[%LIST1](%MB[x:0,y:106,w:146,h:24],{{GW|open&users_list.dcml\\00|LW_lockall}},\"{{Player List}}\") ",
    f"#hint(%LIST1,\"Player list, personal mail and clan information\") ",
    f"#font(RC12,GC12,RC12) ",
    f"#ctxt[%LIST2](%MB[x:0,y:%LIST1-10,w:146,h:24],{{GW|open&mail_list.dcml\\00|LW_lockall}},\"{{Mail}}\") ",
    f"#hint(%LIST2,\"Manage your personal mail\") ",
    f"#font(R2C14,R2C14,RC14) ",
    f"#ctxt[%LIST3](%MB[x:0,y:%LIST2+7,w:146,h:24],{{GW|open&clans_list.dcml\\00|LW_lockall}},\"{{Clan List}}\") ",
    f"#hint(%LIST3,\"Clans, their members and details\") ",
    f"#ebox[%B1](x:154,y:40,w:559,h:45) ",
    f"#pan[%P1](%B1[x:0,y:0,w:100%,h:100%],7) ",
    f"#font(BC12,BC12,GC12)#txt[%TITRE1](%B1[x:4,y:0+8,w:150,h:20],{{}},\"Mail Inbox total: 3\")",
    f"#apan[%APAN0](%B1[x:4,y:%TITRE1-18,x1:%TITRE1,h:16],{{GW|open&mail_list.dcml\\00|LW_lockall}},15)",
    f"#font(BC12,BC12,GC12)#txt[%TITRE2](%B1[x:4,y:18+8,w:150,h:20],{{}},\"Sent: 3\")",
    f"#apan[%APAN1](%B1[x:4,y:%TITRE2-18,x1:%TITRE2,h:16],{{GW|open&mail_list.dcml\\00&sent=true\\00|LW_lockall}},15)",
    f"#font(BC12,BC12,GC12)#txt[%TITRE3](%B1[x:292,y:0+8,w:150,h:20],{{}},\"Unread: 2\")",
    f"#apan[%APAN2](%B1[x:292,y:%TITRE3-18,x1:%TITRE3,h:16],{{GW|open&mail_list.dcml\\00&readable=2\\00|LW_lockall}},15)",
    f"#font(BC12,BC12,GC12)#txt[%TITRE4](%B1[x:292,y:18+8,w:150,h:20],{{}},\"Read: 1\")",
    f"#apan[%APAN3](%B1[x:292,y:%TITRE4-18,x1:%TITRE4,h:16],{{GW|open&mail_list.dcml\\00&readable=3\\00|LW_lockall}},15)",
    f"#pan[%P2](%B1[x:314,y:0-34,w:0,h:100%+68],10) ",
    f"<MAILBUTTONS>",
    f"#ebox[%B](x:0,y:0,w:100%,h:100%) ",
    f"#exec(LW_cfile&\\00&Cookies/%GV_SEND_TO) ",
    f"#exec(LW_cfile&\\00&Cookies/%GV_SUBJECT) ",
    f"#exec(LW_cfile&\\00&Cookies/%GV_TEXT) ",
    f"#ebox[%B0](x:154,y:95,w:559,h:238) ",
    f"#pan[%P1](%B0[x:0,y:0,w:100%,h:100%],5) ",
    f"#font(R2C12,RC12,RC12) ",
    f"#txt[%T1](%B0[x:4,y:8,w:100,h:20],{{}},\"Send to:\") ",
    f"#font(BC12,RC12,RC12) ",
    f"#pan[%P2](%B0[x:8,y:27,w:543,h:14],1) ",
    f"#edit[%E1](%B0[x:14,y:26,w:538,h:18],{{%GV_SEND_TO}},0,0,0,1) ",
    f"#font(R2C12,RC12,RC12) ",
    f"#txt[%T2](%B0[x:4,y:53,w:100,h:20],{{}},\"Subject:\") ",
    f"#pan[%P3](%B0[x:8,y:72,w:543,h:14],1) ",
    f"#font(BC12,RC12,RC12) ",
    f"#edit[%E2](%B0[x:13,y:71,w:538,h:18],{{%GV_SUBJECT}}) ",
    f"#font(R2C12,RC12,RC12) ",
    f"#txt[%T3](%B0[x:4,y:98,w:100,h:20],{{}},\"Text:\") ",
    f"#pan[%P4](%B0[x:8,y:117,w:543,h:111],1) ",
    f"#font(BC12,RC12,RC12) ",
    f"#edit[%E3](%B0[x:13,y:117,w:534,h:111],{{%GV_TEXT}},1) ",
    f"#font(BC14,WC14,BC14) ",
    f"#sbtn[%Send](%B[x:521,y:377,w:100,h:305],{{GW|open&mail_new.dcml\\00&cansel=true^send=1^send_to=<%GV_SEND_TO>^subject=<%GV_SUBJECT>^message=<%GV_TEXT>\\00|LW_lockall}},\"Send\") ",
    f"#sbtn[%Back](%B[x:641,y:377,w:100,h:305],{{LW_file&Internet/Cash/l_games_btn.cml}},\"Cancel\") ",
    f"<NGDLG> ",
        f"#ebox[%L0](x:0,y:0,w:100%,h:100%)\
        #table[%TBL](%L0[x:243,y:130,w:415,h:205],{{}}{{}}{{LW_file&Internet/Cash/cancel.cml}},2,0,3,13,252,\"NOTICE\",\" Players with nicknames \'\'c\'\' not found! \",0,\"OK\")" if not_found else "",
    f"<NGDLG> ",
    f"#block(cancel.cml,CAN)<NGDLG> ",
    f"<NGDLG> ",
    f"#end(CAN)",
    ))